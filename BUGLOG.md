Date        | Bug                                               | Focus           | Solution
------------|---------------------------------------------------|------------------|--------------------------------------------------------------------------------------------
2025-05-17  | Translations not showing                          | Django i18n      | Created `locale/it/LC_MESSAGES/django.po`, ran `makemessages`, and edited translations.
2025-05-17  | Language switch form not returning to same page   | Django templates | Used `<input type="hidden" name="next" value="{{ request.path }}">` in each form.
2025-05-17  | `.mo` file not generating                         | Django CLI       | Fixed `.po` header syntax errors and compiled translations with `compilemessages`.
2025-05-17  | `TemplateSyntaxError: static` in index.html       | Template logic   | Converted `index.html` into an extended template using `{% extends "base.html" %}` and `{% block content %}`.
2025-05-17  | Language flag buttons not switching text          | Middleware/HTML  | Verified `LocaleMiddleware` in `settings.py`, used `{% trans %}` blocks correctly, and restarted server.
2025-05-17  | Language switch not persisting between pages      | Session/Context  | Confirmed `LANGUAGE_COOKIE_NAME` in settings and `django_language` was set properly.
2025-05-17  | Page layout broken after refactor                 | Template layout  | Created `base.html`, moved common HTML structure (doctype, head, navbar, scripts) into it.
2025-05-18  | Contact page not using shared layout          | Templates / Layout | Replaced boilerplate HTML with `{% extends "base.html" %}` and `{% block content %}`.
2025-05-18  | Duplicate header and script tags in contact   | Template cleanup   | Removed all redundant `<head>`, `<header>`, and `<script>` tags already handled by `base.html`.
2025-05-18  | Contact page not translated yet                 | Django i18n        | Wrapped labels, placeholders, and titles in `{% trans %}` blocks and recompiled messages.
| 2025-05-18 | Duplicate msgid errors during `compilemessages` | Translations   | Identified repeated `msgid` entries in `django.po`. Removed duplicate definitions, retaining only one per unique string. Verified that Django uses the same translation across all templates. |
| 2025-05-18 | Needed to embed Google Maps with a custom pin logo       | Maps Integration | Switched from iframe to Google Maps JavaScript API to support custom markers. Enabled Maps API in Google Cloud Console. Created API key, restricted it to HTTP referrers, and prepared to use the business logo (`logofull.webp`) as a map pin at the studio address. |
| 2025-05-18 | Could not enter multiple domains for API key  | Google Cloud API  | Bypassed single-entry pop-up by editing API key via Cloud Console → Credentials tab. Added both `127.0.0.1:8000/*` and live domain with HTTP referrer restrictions. Locked API usage to Maps JavaScript only. |
| 2025-05-18 | Needed to keep Google Maps API key secure in Django      | Env Management    | Installed `python-decouple`, created `.env` file to store the API key, loaded it into `settings.py`, passed it via context to template, and updated the `<script>` tag to use `{{ google_maps_api_key }}`. Added `.env` to `.gitignore`. |
| 2025-05-18 | Google Maps API key not rendering in template          | Django View/Template | Realized `{{ google_maps_api_key }}` was empty. Traced it to the contact view not passing the context variable. Fixed by updating `views.py` to include the key in `render()`. |
| 2025-05-18 | `TemplateDoesNotExist` for contact.html                | Django Templates  | Template was expected in `main/contact.html` but was stored in `templates/contact.html`. Fixed by adjusting `views.py` to use the correct path. |
| 2025-05-18 | Google Maps loaded but showed “InvalidKey” error       | API Integration   | Page source showed `key=` was blank. Confirmed missing context variable. Fixed view logic to pass the key correctly.                 |
| 2025-05-18 | Custom marker logo not appearing like a pin            | UI/UX – Maps      | Uploaded circular logo and styled it as a custom marker. Created a pin-style version using a vector editor. Integrated into the map. |
| 2025-05-18 | Map pin image not loading properly                            | Google Maps / Static | Replaced placeholder with correct `static` path (`/static/images/map_pin.webp`) and ensured the file existed in the static directory. Adjusted `scaledSize` and `anchor` in marker config for better positioning. |
| 2025-05-18 | Google Maps API: `initMap is not a function`                  | JS/Script Callback    | Moved `initMap` into an external `maps.js` file and removed `callback=initMap` from Google Maps script. Instead, manually called `initMap()` from the JS file after ensuring `window.initMap` was globally available. |
| 2025-05-18 | Google Maps script 404: `/static/js/maps.js not found`        | Static File Handling  | Confirmed `maps.js` was located at `main/static/js/maps.js`. Updated `<script src="{% static 'js/maps.js' %}"></script>` in `contact.html` and ran `collectstatic` if needed for deployment. |
| 2025-05-18 | Marker deprecation warning from Google                        | API Best Practices    | Confirmed current `google.maps.Marker` still functions. Noted `AdvancedMarkerElement` as future upgrade path. No action needed unless deprecated API is removed. |
| 2025-05-18 | Map loading performance warning (no async)                    | API Optimization      | Ensured `<script>` tag for Google Maps API was set to `async defer`. Verified it was only loaded once and not duplicated elsewhere in base template. |
| 2025-05-18 | Google Maps async loading warning        | JS Performance       | Maps loads fine using standard `callback=initMap`. Warning is non-breaking and can be safely ignored. Google recommends `@googlemaps/js-api-loader` for SPA projects. |
| 2025-05-19 | Django SECRET_KEY accidentally pushed to GitHub      | Security             | Generated a new key using `get_random_secret_key`, removed it from `settings.py`, replaced with `config('DJANGO_SECRET_KEY')`, and added `.env` to `.gitignore`. |
| 2025-05-19 | SECRET_KEY with `#` was commenting itself out in `.env` | Environment Config   | Wrapped key in double quotes (`"..."`) to prevent `#` from being interpreted as a comment. |
| 2025-05-19 | Used `os.getenv()` instead of `config()`             | Configuration        | Switched to `config()` from `python-decouple` for proper `.env` handling. |
| 2025-05-19 | Git history still contained leaked secret key        | Git / Security       | Deleted `.git` folder, reinitialized repo, committed clean version, and pushed to a new GitHub repo. |
| 2025-05-19 | `git push -f origin main` failed – wrong branch name | Git                  | Changed to `git push -f origin master` or renamed local branch to `main` before pushing. |
| 2025-05-19 | Remote origin already exists error during setup      | Git Remote Config    | Removed existing remote with `git remote remove origin`, then added correct new repo. |
| 2025-05-19 | Render deployment failed: "Exited with status 127"   | Deployment / Render  | Caused by missing `gunicorn`. Added `gunicorn` to `requirements.txt` and redeployed. |
| 2025-05-19 | Unsure of correct Start Command for Render           | Deployment / WSGI    | Confirmed correct command: `gunicorn the_english_studio.wsgi:application`. Verified matching project structure. |
| 2025-05-19 | Want to automate deployment config with `render.yaml`| DevOps               | Created `render.yaml` and `build.sh` script to automate static collection and migrations on deploy. |
| 2025-05-19 | Render deploy failed: `ModuleNotFoundError: No module named 'decouple'` | Dependency / Config | Added `python-decouple` to `requirements.txt`, committed, and redeployed. |
| 2025-05-19 | `SECRET_KEY setting must not be empty` on Render         | Environment Config  | Replaced `config('DJANGO_SECRET_KEY')` with `os.getenv('DJANGO_SECRET_KEY')` in `settings.py`. Updated environment variable in Render dashboard to be unquoted. |
| 2025-05-19 | Still failing after using quotes in Render env var       | Decouple Behavior   | Confirmed that `decouple` treats quotes as literal via Render. Switched to `os.getenv()` for compatibility. |
| 2025-05-19 | App deployed but failed with `DisallowedHost` error      | Django Production   | Added `theenglishstudiocorvetto.onrender.com` to `ALLOWED_HOSTS` in `settings.py`. Committed and pushed fix. |
| 2025-05-19 | Preparing to set `DEBUG=False` for production            | Security / Best Practice | Planning to disable `DEBUG` in production and optionally add custom error pages. |
| 2025-05-19 | Build failed: `ModuleNotFoundError: No module named 'django'` | Build Process        | Build command ran Django commands before installing packages. Fixed by updating Render's build command to include `pip install -r requirements.txt` first. |
| 2025-05-19 | Google Maps not rendering on contact page                   | API / JS Integration | Map displayed "Something went wrong" due to missing or restricted API access. Resolved by adding `theenglishstudiocorvetto.onrender.com/*` as an allowed referrer in Google Cloud Console, confirming billing was enabled, ensuring `GOOGLE_MAPS_API_KEY` was correctly passed from Django settings to the template, and verifying the Maps JavaScript API was active. |
