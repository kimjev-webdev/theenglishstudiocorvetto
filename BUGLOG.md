Date        | Bug                                               | Focus           | Solution
------------|---------------------------------------------------|------------------|--------------------------------------------------------------------------------------------
2025-05-17  | Translations not showing                          | Django i18n      | Created `locale/it/LC_MESSAGES/django.po`, ran `makemessages`, and edited translations.
2025-05-17  | Language switch form not returning to same page   | Django templates | Used `<input type="hidden" name="next" value="{{ request.path }}">` in each form.
2025-05-17  | `.mo` file not generating                         | Django CLI       | Fixed `.po` header syntax errors and compiled translations with `compilemessages`.
2025-05-17  | `TemplateSyntaxError: static` in index.html       | Template logic   | Converted `index.html` into an extended template using `{% extends "base.html" %}` and `{% block content %}`.
2025-05-17  | Language flag buttons not switching text          | Middleware/HTML  | Verified `LocaleMiddleware` in `settings.py`, used `{% trans %}` blocks correctly, and restarted server.
2025-05-17  | Language switch not persisting between pages      | Session/Context  | Confirmed `LANGUAGE_COOKIE_NAME` in settings and `django_language` was set properly.
2025-05-17  | Page layout broken after refactor                 | Template layout  | Created `base.html`, moved common HTML structure (doctype, head, navbar, scripts) into it.
2025-05-18  | Contact page not using shared layout          | Templates / Layout | Replaced boilerplate HTML with `{% extends "base.html" %}` and `{% block content %}`.
2025-05-18  | Duplicate header and script tags in contact   | Template cleanup   | Removed all redundant `<head>`, `<header>`, and `<script>` tags already handled by `base.html`.
2025-05-18  | Contact page not translated yet                 | Django i18n        | Wrapped labels, placeholders, and titles in `{% trans %}` blocks and recompiled messages.
| 2025-05-18 | Duplicate msgid errors during `compilemessages` | Translations   | Identified repeated `msgid` entries in `django.po`. Removed duplicate definitions, retaining only one per unique string. Verified that Django uses the same translation across all templates. |
| 2025-05-18 | Needed to embed Google Maps with a custom pin logo       | Maps Integration | Switched from iframe to Google Maps JavaScript API to support custom markers. Enabled Maps API in Google Cloud Console. Created API key, restricted it to HTTP referrers, and prepared to use the business logo (`logofull.webp`) as a map pin at the studio address. |
| 2025-05-18 | Could not enter multiple domains for API key  | Google Cloud API  | Bypassed single-entry pop-up by editing API key via Cloud Console → Credentials tab. Added both `127.0.0.1:8000/*` and live domain with HTTP referrer restrictions. Locked API usage to Maps JavaScript only. |
| 2025-05-18 | Needed to keep Google Maps API key secure in Django      | Env Management    | Installed `python-decouple`, created `.env` file to store the API key, loaded it into `settings.py`, passed it via context to template, and updated the `<script>` tag to use `{{ google_maps_api_key }}`. Added `.env` to `.gitignore`. |
| 2025-05-18 | Google Maps API key not rendering in template          | Django View/Template | Realized `{{ google_maps_api_key }}` was empty. Traced it to the contact view not passing the context variable. Fixed by updating `views.py` to include the key in `render()`. |
| 2025-05-18 | `TemplateDoesNotExist` for contact.html                | Django Templates  | Template was expected in `main/contact.html` but was stored in `templates/contact.html`. Fixed by adjusting `views.py` to use the correct path. |
| 2025-05-18 | Google Maps loaded but showed “InvalidKey” error       | API Integration   | Page source showed `key=` was blank. Confirmed missing context variable. Fixed view logic to pass the key correctly.                 |
| 2025-05-18 | Custom marker logo not appearing like a pin            | UI/UX – Maps      | Uploaded circular logo and styled it as a custom marker. Created a pin-style version using a vector editor. Integrated into the map. |
| 2025-05-18 | Map pin image not loading properly                            | Google Maps / Static | Replaced placeholder with correct `static` path (`/static/images/map_pin.webp`) and ensured the file existed in the static directory. Adjusted `scaledSize` and `anchor` in marker config for better positioning. |
| 2025-05-18 | Google Maps API: `initMap is not a function`                  | JS/Script Callback    | Moved `initMap` into an external `maps.js` file and removed `callback=initMap` from Google Maps script. Instead, manually called `initMap()` from the JS file after ensuring `window.initMap` was globally available. |
| 2025-05-18 | Google Maps script 404: `/static/js/maps.js not found`        | Static File Handling  | Confirmed `maps.js` was located at `main/static/js/maps.js`. Updated `<script src="{% static 'js/maps.js' %}"></script>` in `contact.html` and ran `collectstatic` if needed for deployment. |
| 2025-05-18 | Marker deprecation warning from Google                        | API Best Practices    | Confirmed current `google.maps.Marker` still functions. Noted `AdvancedMarkerElement` as future upgrade path. No action needed unless deprecated API is removed. |
| 2025-05-18 | Map loading performance warning (no async)                    | API Optimization      | Ensured `<script>` tag for Google Maps API was set to `async defer`. Verified it was only loaded once and not duplicated elsewhere in base template. |
| 2025-05-18 | Google Maps async loading warning        | JS Performance       | Maps loads fine using standard `callback=initMap`. Warning is non-breaking and can be safely ignored. Google recommends `@googlemaps/js-api-loader` for SPA projects. |
| 2025-05-19 | Django SECRET_KEY accidentally pushed to GitHub      | Security             | Generated a new key using `get_random_secret_key`, removed it from `settings.py`, replaced with `config('DJANGO_SECRET_KEY')`, and added `.env` to `.gitignore`. |
| 2025-05-19 | SECRET_KEY with `#` was commenting itself out in `.env` | Environment Config   | Wrapped key in double quotes (`"..."`) to prevent `#` from being interpreted as a comment. |
| 2025-05-19 | Used `os.getenv()` instead of `config()`             | Configuration        | Switched to `config()` from `python-decouple` for proper `.env` handling. |
| 2025-05-19 | Git history still contained leaked secret key        | Git / Security       | Deleted `.git` folder, reinitialized repo, committed clean version, and pushed to a new GitHub repo. |
| 2025-05-19 | `git push -f origin main` failed – wrong branch name | Git                  | Changed to `git push -f origin master` or renamed local branch to `main` before pushing. |
| 2025-05-19 | Remote origin already exists error during setup      | Git Remote Config    | Removed existing remote with `git remote remove origin`, then added correct new repo. |
| 2025-05-19 | Render deployment failed: "Exited with status 127"   | Deployment / Render  | Caused by missing `gunicorn`. Added `gunicorn` to `requirements.txt` and redeployed. |
| 2025-05-19 | Unsure of correct Start Command for Render           | Deployment / WSGI    | Confirmed correct command: `gunicorn the_english_studio.wsgi:application`. Verified matching project structure. |
| 2025-05-19 | Want to automate deployment config with `render.yaml`| DevOps               | Created `render.yaml` and `build.sh` script to automate static collection and migrations on deploy. |
| 2025-05-19 | Render deploy failed: `ModuleNotFoundError: No module named 'decouple'` | Dependency / Config | Added `python-decouple` to `requirements.txt`, committed, and redeployed. |
| 2025-05-19 | `SECRET_KEY setting must not be empty` on Render         | Environment Config  | Replaced `config('DJANGO_SECRET_KEY')` with `os.getenv('DJANGO_SECRET_KEY')` in `settings.py`. Updated environment variable in Render dashboard to be unquoted. |
| 2025-05-19 | Still failing after using quotes in Render env var       | Decouple Behavior   | Confirmed that `decouple` treats quotes as literal via Render. Switched to `os.getenv()` for compatibility. |
| 2025-05-19 | App deployed but failed with `DisallowedHost` error      | Django Production   | Added `theenglishstudiocorvetto.onrender.com` to `ALLOWED_HOSTS` in `settings.py`. Committed and pushed fix. |
| 2025-05-19 | Preparing to set `DEBUG=False` for production            | Security / Best Practice | Planning to disable `DEBUG` in production and optionally add custom error pages. |
| 2025-05-19 | Build failed: `ModuleNotFoundError: No module named 'django'` | Build Process        | Build command ran Django commands before installing packages. Fixed by updating Render's build command to include `pip install -r requirements.txt` first. |
| 2025-05-19 | Google Maps not rendering on contact page                   | API / JS Integration | Map displayed "Something went wrong" due to missing or restricted API access. Resolved by adding `theenglishstudiocorvetto.onrender.com/*` as an allowed referrer in Google Cloud Console, confirming billing was enabled, ensuring `GOOGLE_MAPS_API_KEY` was correctly passed from Django settings to the template, and verifying the Maps JavaScript API was active. |
| 2025-05-25 | Google Maps not rendering on contact page                         | API / JS Integration     | Map displayed "Something went wrong" due to missing or restricted API access. Resolved by adding http://127.0.0.1:8000/it/contact/ and http://127.0.0.1:8000/en/contact/ as allowed referrers in Google Cloud Console. |
| 2025-05-25 | `initMap is not a function` error blocking map load               | Script Loading / Scope   | Google Maps callback failed because `initMap` was declared inside a `<script type="module">`, which prevented it from attaching to the global scope. Fixed by removing `type="module"` and ensuring `window.initMap = initMap` was set in `maps.js`, with the script loading *before* the Maps API script. |
| 2025-05-25 | Google Translate modal appearing during manual language switch    | UX / Internationalization | Chrome auto-translation popup triggered when switching between `/en/` and `/it/` views. Resolved by adding `<meta name="google" content="notranslate">` in the `<head>`, signaling to Google that manual localization is already handled. |
| 2025-05-25 | Missing alt text on custom map marker image                     | Accessibility / Maps Integration | The custom map pin image used in the Google Maps marker did not include `alt` text, which caused an accessibility warning. Resolved by adding `pinImage.alt = "map pin";` to ensure the image is properly described for screen readers and passes Lighthouse's accessibility audit. |
| 2025-05-26 | Contact form clearing after submision but did not trigger view                   | URL Routing              | `contact_view` was never reached due to a conflicting route in `main/urls.py` overriding the `/contact/` path. Removed the duplicate `contact` path from `main/urls.py` so `contact/urls.py` could route properly. |
| 2025-05-26 | No modal appearing after successful form submission            | Modal Trigger / Template | Context variable `show_modal` was not passed due to view never being hit. Once routing was fixed, modal began appearing with correct `data-show` logic. |
| 2025-05-26 | Contact view silently failing without visible error            | Debugging View Execution | Added `print()` and `raise Exception(...)` to confirm whether `contact_view` was being executed. Used this to verify routing issues. |
| 2025-05-26 | Email sending failed with TypeError: unexpected 'reply_to'     | Email Integration         | `send_mail()` does not support the `reply_to` argument. Replaced it with `EmailMessage()` which supports `reply_to`, allowing user replies to be directed to the form sender. |
| 2025-05-26 | Contact form submitted but Mailchimp did not register contact  | Mailchimp API             | Confirmed `subscribe` checkbox was passed correctly. Added error logging to `requests.post()` and verified audience ID and API key formatting. Subscription confirmed successful. |
| 2025-05-26 | form submitted successfully but no visual confirmation         | UX / Modal Feedback       | Verified that modal logic was only running after form validation. Ensured `"show_modal": True` was passed on success, and `contact.js` correctly triggered Bootstrap modal on load. |
| 2025-05-26 | Google Map showing “This page can't load Google Maps correctly” | Maps Integration | The Google Maps API was not working due to a missing or improperly passed API key. Resolved by passing `google_maps_api_key` from `contact_view` using `os.getenv("GOOGLE_MAPS_API_KEY")` into the template context and rendering it inside the script tag. |
| 2025-05-26 | Blog image not displaying despite being uploaded              | Media Handling    | Discovered that uploaded images were being saved outside of Django's `MEDIA_ROOT`. Resolved by moving files into `media/` and ensuring `MEDIA_URL` was `/media/`.    |
| 2025-05-26 | Broken image path under /it/media/...                         | i18n + Media URLs | Issue caused by `i18n_patterns` prefixing media URLs. Fixed by serving media routes *outside* of `i18n_patterns` in `urls.py`.                                         |
| 2025-05-26 | Template not displaying uploaded image                        | Template Fix      | Template was using `post.image` instead of correct model field `post.featured_image`. Fixed by updating templates to use `{{ post.featured_image.url }}`.            |
| 2025-05-26 | Uploaded images not found via URL                             | Upload Path       | Image path was saved with backslashes. Confirmed `upload_to` returns forward-slash paths and used `.replace('\\', '/')` to normalize slashes for web use.           |
| 2025-05-26 | Media not loading during development                          | Media Routing     | Confirmed `urlpatterns += static(...)` was present outside of `i18n_patterns` in project-level `urls.py`, ensuring proper serving of media in `DEBUG=True`.          |
| 2025-05-26 | Google Map showing “This page can't load Google Maps correctly” | Maps Integration  | The Google Maps API was not working due to a missing or improperly passed API key. Resolved by passing `google_maps_api_key` from `contact_view` using `os.getenv("GOOGLE_MAPS_API_KEY")` into the template context and rendering it inside the script tag. |
| 2025-05-26 | Blog images not loading on Render deploy                             | Media Hosting         | Render doesn’t serve media files by default in production. Decided to migrate to Cloudinary for free, reliable image hosting with CDN and cropping features.                                            |
| 2025-05-26 | `pip install cloudinary` did nothing locally                         | Dependency Install    | Cloudinary and `django-cloudinary-storage` weren't listed in `requirements.txt`, so they weren’t installed on Render. Fixed by adding both to the file and pushing to GitHub.                          |
| 2025-05-26 | Render deploy failed with `ModuleNotFoundError: No module named 'cloudinary'` | Build Failure          | Build failed due to missing dependency. Resolved by explicitly adding `cloudinary` and `django-cloudinary-storage` to `requirements.txt` and triggering a manual deploy with cache clear.              |
| 2025-05-26 | Cloudinary not transforming thumbnails to 5:4 crop                   | Image Transformation  | Created a custom Django template filter `cloudinary_crop` that injects transformation strings (e.g., `c_fill,ar_5:4,g_auto`) into Cloudinary URLs for on-the-fly aspect ratio cropping.               |
| 2025-06-01 | Images not appearing on deployed blog page                          | Cloudinary Integration | Discovered images weren’t rendering due to incorrect template logic. Verified that `DEFAULT_FILE_STORAGE` and env variables were set.     |
| 2025-06-01 | 404 error for Cloudinary image URL                                  | Media URL Handling     | Issue traced to an outdated blog post created before Cloudinary config. Uploaded a fresh post with image after setup; confirmed it works. |
| 2025-06-01 | Template crash with `post.featured_image.storage.__class__`         | Template Syntax        | Caused 500 error because Django prohibits accessing double-underscore (`__`) properties. Removed debug line from template.                |
| 2025-06-01 | Cloudinary debug output still showing “No featured image available” | Template Cleanup       | This was just a fallback `alt` or message for images that failed. It appeared even when image loaded. Cleaned up that logic.              |
| 2025-06-01 | Blog working locally but failed on Render with 500 error            | Deployment/Template    | The error only appeared in production due to strict template parsing. Fixed template and rebuilt the Render service.                      |
| 2025-06-01 | Manual deploy needed after config cleanup                           | Deployment             | Cleared cache, rebuilt the Render service manually, then tested in incognito to confirm successful image rendering.                       |
| 2025-06-01 | Blog images not displaying on Render deploy                       | Media Storage        | Problem traced to `ImageField` using local `upload_to` path. Fixed by switching to `CloudinaryField` and removing custom upload function.      |
| 2025-06-01 | Video uploads not served by Cloudinary                            | Media Storage        | Replaced `FileField` with `CloudinaryField(resource_type="video")` to enable CDN delivery and video playback via Cloudinary.                    |
| 2025-06-01 | Cloudinary images still generating `/media/` URLs after model fix | Template Rendering   | Confirmed `{{ post.featured_image.url }}` was correct, but existing posts needed to be re-uploaded to trigger Cloudinary handling.              |
| 2025-06-01 | Deployment 500 error on blog page                                 | Template Debug       | Caused by unsafe debug line `{{ post.featured_image.storage.__class__ }}` using double underscores. Removed line to restore production safety. |
| 2025-06-01 | Cloudinary config not applying on Render                          | Environment Variables| Verified `DEFAULT_FILE_STORAGE` and `CLOUDINARY_STORAGE` were correctly set, and `DEBUG=False` was restored in Render Dashboard.                |
| 2025-06-01 | Indentation and syntax errors in `models.py`                      | Model Refactor       | Fixed `max_Length` typo → `max_length`, restored proper indentation, and re-imported `models` after switching to CloudinaryField.               |
| 2025-06-08 | Blog detail layout broken on larger screens                    | Blog Template/CSS    | Replaced Bootstrap grid with float-based layout using `float-md-start` and `clearfix` to let text wrap under fixed-height image.                                    |
| 2025-06-08 | Blog list card previews became stretched vertically            | Image Display/CSS    | Isolated `.poststyles` to list view only, restored `object-fit: cover`, and ensured card image preview uses fixed ratio container with absolute-positioned `<img>`. |
| 2025-06-08 | Blog paragraphs split oddly with single line breaks            | Template Filter      | Created custom filter `clean_paragraphs` in `calendar_extras.py` to wrap only double newlines in `<p>` and remove single newlines entirely.                         |
| 2025-06-08 | `TemplateSyntaxError` when loading `{% load calendarextras %}` | Custom Tags          | Renamed `calendarextras.py` to `calendar_extras.py` to match Django’s expected format. Restarted server and updated template to `{% load calendar_extras %}`.       |
| 2025-06-08 | Signature image not displaying on blog detail                  | Static File Handling | Fixed hardcoded path by using `{% static 'images/signature.webp' %}`. Verified file location was `main/static/images/`.                                             |
| 2025-06-08 | `{% static %}` tag caused `TemplateSyntaxError`                | Template Logic       | Realized `{% load static %}` was missing in the child template despite being present in `base.html`. Added `{% load static %}` explicitly.                          |
| 2025-06-08 | Signature image needed right-alignment                         | Layout / Bootstrap   | Applied Bootstrap utility classes `d-block ms-auto` to align the signature image to the right.                                                                      |
| 2025-06-08 | Blog titles and body content not translating on detail page          | Template Logic         | Replaced `{{ post.title_en }}` and `{{ post.body_en }}` with conditionals using `{% get_current_language as LANGUAGE_CODE %}` to display `*_it` if Italian is active. |
| 2025-06-08 | Blog list showed only English titles and image alt text              | Template Logic         | Updated blog list template to dynamically choose between `title_en` and `title_it` using the active language code.                                       |
| 2025-06-08 | Featured image `alt` text was not localized                          | Accessibility / i18n   | Wrapped image `alt` attribute logic with `{% if LANGUAGE_CODE == "it" %}` condition to display the appropriate language version of the title.           |
2025-06-14 | Emoji tooltips not displaying on hover in schedule calendar     | Frontend UI / Tooltips | Replaced custom hidden `.tooltip` div with Tippy.js integration. Added `data-tippy-content` to `.emoji` elements and initialized Tippy on DOM load. Tooltip content auto-adjusts to site language using existing translation logic. |
2025-06-14 | Tooltip HTML rendering showed escaped Unicode in frontend      | Frontend / Tooltips    | Replaced `escapejs` filter with `|safe` to allow raw HTML tags inside `data-tippy-content`. Tooltip now renders with correct formatting rather than escaped unicode (e.g., \u003Cdiv\u003E).                             |
2025-06-14 | Tooltip still displayed emoji alongside localized class name   | Localization / Tooltip | Modified template to access `event.class_instance.name_en` and `name_it` directly based on `LANGUAGE_CODE`, excluding emoji from tooltip content. Kept emoji in calendar cell only.                                 |
2025-06-14 | Calendar grid structure broke due to tooltip DOM overflow      | Layout / Positioning   | Applied `appendTo: document.body` and `maxWidth` in Tippy.js config to prevent tooltips from stretching or distorting the calendar layout. Also reduced padding and font size for a cleaner fit.                    |
2025-06-14 | Calendar title displayed numeric month instead of name          | Frontend / i18n Display | Replaced raw numeric `month` with a localized full month name using `date_format(..., "F")`. Now displays “June” or “Giugno” based on active language.                           |
2025-06-14 | Month name not localized on bilingual site                      | Localization / Template | Used Django’s `use_l10n=True` in view logic to ensure month names adapt to selected language. Removed need for conditional month formatting in templates.                          |
2025-06-14 | No support for recurring events in calendar schedule           | Backend / Models        | Added `recurrence` and `days_of_week` fields to the `Event` model with support for weekly, biweekly, monthly, and custom weekday rules.                                    |
2025-06-14 | Admin interface lacked recurrence controls for events         | Admin / UX              | Registered recurrence fields in Django admin using `fieldsets` to group them cleanly. Enabled filtering by recurrence in the list view.                                     |
2025-06-14 | Recurring events not displayed on calendar view               | View Logic / Calendar   | Extended `calendar_view` to dynamically generate virtual events within the target month based on recurrence type. Recurring items now appear with tooltip + emoji in grid. |
2025-06-14 | Recurring events were not appearing on calendar view          | Views / Recurrence Logic | Replaced static event filter with dynamic recurrence loop. Recurring events are now generated per rule (weekly, biweekly, etc.) and rendered in correct days of the month grid. |                                                                           
| 2025-06-14 | Migration failed due to `ValueError: Cannot quote parameter value []` | Model Migration | Replaced default `list` with `default=list` using `ArrayField`; ensured PostgreSQL usage locally |
| 2025-06-14 | SQLite not supporting array fields                                    | Database        | Installed PostgreSQL locally and connected Django to it using `.env` credentials                 |
| 2025-06-14 | Local PostgreSQL connection refused                                   | Local Dev DB    | Created `english_studio_dev` DB and user with full privileges using `psql`                       |
| 2025-06-14 | `fe_sendauth: no password supplied`                                   | DB Auth         | Ensured `.env` and `settings.py` were properly configured with database credentials              |
| 2025-06-14 | `permission denied for schema public`                                 | DB Permissions  | Granted `ALL PRIVILEGES ON DATABASE english_studio_dev TO kim;`                                  |
| 2025-06-14 | No visible `recurrence_exceptions` field in Django admin              | Admin UI        | Updated `EventAdmin` to include the field; ensured fieldsets were correctly defined              |
| 2025-06-14 | Exceptions ignored in calendar rendering                              | View Logic      | Updated `calendar_view` to check for and skip `recurrence_exceptions` in all recurrence modes    |
| 2025-06-21 | `portal/login` form button did nothing on click                | Template Syntax | Discovered malformed `<form>`: opening and closing tag were separated. Fixed by removing incorrect `</form>` above CSRF token. |
| 2025-06-21 | Superuser login not redirecting after form submission          | Auth/Redirect   | Confirmed login credentials were correct, verified user status in Render shell, fixed login template.                          |
| 2025-06-21 | `portal/forms.py` crashed deploy due to invalid model fields   | Forms / Models  | Adjusted `BlogPostForm` to use correct translated field names: `title_en`, `body_en`, etc.                                     |
| 2025-06-21 | Render deploy failed due to syntax error in `urls.py`          | Deployment      | Fixed unclosed bracket in `config/urls.py` caused by recent additions to `portal/urls.py`.                                     |
| 2025-06-21 | Template error: `{% static %}` used before `{% load static %}` | Templates       | Ensured `{% load static %}` appears at the top of login and portal templates.                                                  |
| 2025-06-21 | `NameError` for undefined `BlogListView` during deploy         | Routing / Views | Added correct import for `BlogListView` in `portal/urls.py`.                                                                   |
| 2025-06-21 | Unable to log into `/portal` with superuser                    | Auth/Testing    | Used Django shell to confirm active superuser status; resolved after fixing login form tag.                                    |
| 2025-06-21 | Login form submitted but nothing happened                  | Frontend Template | Found stray `</form>` closing tag above `{{ form.as_p }}`; removed to fix flow                                                    |
| 2025-06-21 | Login successful but redirected to undefined `/it/portal/` | Redirect Logic    | Identified incorrect locale-aware redirect; ensured fallback to dashboard                                                         |
| 2025-06-21 | Login 500 error: unresolved `event_list` in dashboard      | Template Routing  | Commented out broken dashboard links (`event_list`, `carousel_list`, `flyer_list`) to prevent template crash                      |
| 2025-06-21 | `Reverse for 'event_list' not found` after login           | Django URLs       | Confirmed missing `event_list` view; fixed by commenting out broken references                                                    |
| 2025-06-21 | Superuser login failed                                     | Auth & Shell      | Verified correct superuser via Render shell (`leanne`); password confirmed valid                                                  |
| 2025-06-21 | `LOGIN_REDIRECT_URL` in `settings.py` not respected        | Auth / Locale     | Determined locale-aware URL (`/en/portal/`) overrides base `LOGIN_REDIRECT_URL`; confirmed `next` param handles redirect properly |
| 2025-06-22 | Portal `/schedule/` conflicting with frontend schedule page       | URL routing conflict        | Renamed backend management URL name from `'schedule'` to `'schedule_portal'` in `urls.py` to avoid clashing with the frontend calendar view.                                                         |
| 2025-06-22 | 500 Server Error after login                                      | Dashboard view              | Discovered `name='schedule'` was still linked to a view incompatible with the portal. Adjusted names and views accordingly.                                                                          |
| 2025-06-22 | Portal rendered inside the main site’s `<base.html>` unexpectedly | Template and nav rendering  | Verified view logic and navigation behavior. Confirmed that fixing the URL name resolved the portal rendering issue.                                                                                 |
| 2025-06-22 | Create/Edit/Delete functionality broken in schedule management    | JavaScript/AJAX/URLs        | Added a `urls` object using Django’s `{% url %}` template tags to ensure correct AJAX endpoints. Moved that `urls` definition into the HTML template (not `schedule.js`) to avoid templating errors. |
| 2025-06-22 | `editEvent` and `deleteEvent` functions not found                 | JavaScript scoping          | Defined `window.editEvent` and `window.deleteEvent` to make the functions globally accessible from inline HTML buttons.                                                                              |
| 2025-06-22 | New event wasn't saving                                           | JS/Modal logic              | Confirmed modal field population and form submission logic. Ensured proper field selectors, error handling, and URL usage.                                                                           |
| 2025-06-22 | Modal fields not populating on edit                               | HTML data attributes        | Adjusted `<tr>` elements to include consistent `data-*` attributes, which allowed JavaScript to read values and populate modal correctly.                                                            |
| 2025-06-22 | Classes were not updating visually                                | JavaScript DOM manipulation | Ensured correct targeting of `td:nth-child()` values to reflect emoji and class name updates live in the table row.                                                                                  |
| 2025-06-22 | Script errors caused by JS file trying to parse `{% url %}`       | Templating issue            | Moved the `urls` constant into a `<script>` block inside the Django template instead of defining it in the static JS file.                                                                           |
2025-07-05 | Logout link on /portal caused HTTP 405 error on live site | Auth / Logout | Replaced <a> logout link with a POST form using CSRF token. Django logout only accepts POST in production.
2025-07-19 | Login on deployed site caused 500 error due to unresolved redirect URL 'portal_dashboard' | Auth / Login | Added 'portal' namespace prefix to LOGIN_REDIRECT_URL and LOGOUT_REDIRECT_URL in settings.py. Confirmed 'portal_dashboard' view is correctly named in portal.urls. Explicitly set success_url in LoginView using reverse_lazy.
2025-07-19 | Dashboard page caused 500 error due to duplicate URL name 'blog_edit' | Portal / Blog | Renamed BlogListView URL to 'blog_list' in portal/urls.py and updated template reverse call to 'portal:blog_list' to avoid NoReverseMatch.
2025-07-19 | Dashboard raised 500 error due to unresolved URL 'portal_logout' | Portal / Logout | Updated template tag from 'portal_logout' to 'portal:portal_logout' to match namespace. All portal URLs must be reversed with 'portal:' prefix.
2025-07-19 | Modal displayed both languages and repeated image inside flyer modal | Flyers / Homepage | Removed modal flyer image duplication. Wrapped modal content in LANGUAGE_CODE logic using {% get_current_language %} to show only selected language with fallback to English.
| 2025-07-19 | Recurring events continued infinitely                  | Recurrence    | Added `repeat_until` field to `Event` model and applied stop condition in calendar loop logic.                  |
| 2025-07-19 | `repeat_until` value was not being saved               | Backend Views | Updated `create_event` and `update_event` views to parse and store `repeat_until` from POSTed JSON data.        |
| 2025-07-19 | Recurring events still showed after `repeat_until`     | Calendar View | Modified all recurrence logic (`weekly`, `biweekly`, `monthly`, `custom_days`) to break loop at `repeat_until`. |
| 2025-07-19 | Frontend form was missing a way to pass `repeat_until` | JS / Frontend | Added `event-end-date` field in modal form and passed it in AJAX request payload to match backend expectations. |
| 2025-07-19 | Recurring events displayed indefinitely, ignoring `repeat_until`    | `calendar_view()` | Adjusted view logic to enforce `repeat_until` cut-off for all recurrence types                 |
| 2025-07-19 | JavaScript was creating multiple event entries for recurring events | `schedule.js`     | Refactored JS to send only one POST request per event, passing recurrence data properly        |
| 2025-07-19 | `repeat_until` date was not being picked up in the modal form       | HTML/JS frontend  | Fixed ID mismatch: changed `event-end-date` to `event-repeat-until` in modal and JS references |
| 2025-07-19 | `repeat_until` wasn't passed from modal to backend correctly        | JS/Backend Sync   | Updated `schedule.js` to ensure `repeat_until` is posted as a string in the payload            |
| 2025-07-19 | Duplicate events rendered if looped in JS and also handled in views | Logic conflict    | Removed frontend recurrence loop entirely — recurrence is now 100% server-side                 |
| 2025-08-09 | Static assets not rendering correctly on production | Forgot to push static files | Identified missing static files after deployment. Realized static files were not pushed during deployment. Fixed by pushing the static files to the server. |
| 2025-08-09 | Incorrect date format displayed on calendar widget | Date parsing mismatch | The calendar widget displayed dates incorrectly. Tracked the issue to a frontend-backend date parsing mismatch. Fixed by aligning frontend date format with backend. |
| 2025-08-09 | Images not showing after recent update | Frontend image path issue | After an update, images didn't load. Discovered that the image paths weren't updated. Fixed by correcting the image paths and redeployed. |
| 2025-08-09 | Button text overlapping in mobile view | CSS styling conflict | Button text overlapped on small screens. Found conflicting media queries. Fixed by adjusting media query breakpoints to properly scale buttons for mobile. |
| 2025-08-09 | Error thrown when submitting form without required fields | Validation error not caught | Form submission without required fields threw an error. Identified missing frontend validation checks. Fixed by adding proper validation checks to prevent submission without required fields. |
| 2025-08-10 | 500 on `/en/portal/blog/` (NoReverseMatch: `blog_create`) | Portal templates used un-namespaced URL names colliding with public blog routes | `{% url 'blog_create' %}` etc. didn’t exist under the `portal` namespace. Updated templates to `{% url 'portal:blog_create' %}`, `{% url 'portal:blog_edit' pk=... %}`, `{% url 'portal:blog_delete' pk=... %}`, `{% url 'portal:blog_list' %}`. |
| 2025-08-10 | Wrong/failed redirects after create/update/delete         | `success_url` used un-namespaced names                                          | In `portal/views.py` set `BlogCreateView.get_success_url()` → `reverse_lazy('portal:blog_edit', pk)`, and `BlogUpdateView`/`BlogDeleteView.success_url` → `reverse_lazy('portal:blog_list')`.                                                    |
| 2025-08-10 | Portal menu linked to public blog list                    | Template link pointed at `blog_list` (public)                                   | Changed dashboard/manage links to `{% url 'portal:blog_list' %}` so portal CRUD opens `/en/portal/blog/` not `/en/blog/`.                                                                                                                        |
| 2025-08-10 | Footer overlapping CKEditor on portal form                | `.container.vh-100` forced fixed viewport height                                | Removed `vh-100` (or replaced with `min-vh-100`) and added proper sticky-footer layout: `<main class="flex-grow-1">…</main>` with `<footer class="mt-auto">…</footer>` plus some bottom padding on the form container.                           |
| 2025-08-10 | Local `ModuleNotFoundError: decouple`                     | Dependency not installed in local venv                                          | Installed `python-decouple` and added to `requirements.txt`; verified local venv (Python 3.11) and ran `manage.py` commands successfully.                                                                                                        |
| 2025-08-10 | `KeyError: 'collectstatic'` running management commands   | Code accessed `os.environ['collectstatic']` directly                            | Replaced with safe env access (or removed entirely). If needed, use `DISABLE_COLLECTSTATIC` via `env('DISABLE_COLLECTSTATIC', default=False, cast=bool)`. Reminder: `collectstatic` isn’t needed for template/view changes.                      |
| 2025-08-10 | Potential logout redirect mismatch                        | `redirect('portal_login')` not namespaced                                       | Switched to `redirect('portal:portal_login')` to match `config/urls.py` namespace. |
| 2025-08-16 | Google Maps API key not injected into template | `{{ GOOGLE_MAPS_API_KEY }}` rendered empty | Added context processor `google_maps_api_key` and hooked into `TEMPLATES` to expose API key from settings. |
| 2025-08-16 | Hardcoded static paths in JS | `pinImage.src = "/static/images/map_pin.webp";` caused 404 in production | Passed pin URL via `data-pin-url="{% static 'images/map_pin.webp' %}"` in template and consumed in JS. |
| 2025-08-16 | Old Google Maps script tag caused async warning | `<script src="...&callback=initMap" async defer>` loaded directly | Replaced with official async loader using `google.maps.importLibrary`. |
| 2025-08-16 | Map container missing proper height | Map div collapsed with no visible map | Added inline style and/or `.map { height: 425px; }` to ensure visibility. |
| 2025-08-16 | JS tightly coupled to hardcoded values | `initMap` hardcoded lat/lng and pin path | Rewrote `maps.js` to read lat, lng, mapId, and pin URL from `<div id="map" data-*>`. |
| 2025-08-16 | Missing static assets | `map_pin.webp` and `logofull.webp` returned 404 | Moved assets to `main/static/images/` and referenced with `{% static %}`. |
| 2025-08-16 | Static files not collected | Old static files not present in `STATIC_ROOT` | Ran `python manage.py collectstatic --noinput` after correcting dependencies. |
| 2025-08-16 | Missing Python deps (`dotenv`, `cloudinary`, `ckeditor`, `psycopg`) | ModuleNotFoundError errors during collectstatic | Installed `python-dotenv`, `cloudinary`, `django-cloudinary-storage`, `django-ckeditor`, `pillow`, and `psycopg[binary]`. |
| 2025-08-16 | Root & WWW DNS not pointing to Render | Missing/incorrect DNS records at GoDaddy | Added A @ → 216.24.57.1 and CNAME www → theenglishstudiocorvetto.onrender.com. |
| 2025-08-16 | Render couldn’t issue SSL | Domain verified but cert stuck at “Certificate Error” | Cleaned DNS (no forwarding/duplicates), verified both domains in Render; Let’s Encrypt auto-provisioned. |
| 2025-08-16 | Invalid Host Header (400) on custom domain | `theenglishstudiocorvetto.com` not in `ALLOWED_HOSTS` | Added onrender, root, and www to `ALLOWED_HOSTS` (via env or settings) and redeployed. |
| 2025-08-16 | CSRF failures on custom domain | `CSRF_TRUSTED_ORIGINS` missing new HTTPS origins | Set `CSRF_TRUSTED_ORIGINS` to `https://theenglishstudiocorvetto.com, https://www.theenglishstudiocorvetto.com, https://theenglishstudiocorvetto.onrender.com`. |
| 2025-08-16 | Inconsistent protocol / duplicate hostnames | HTTP allowed and no canonical domain | Enabled Force HTTPS in Render and set `www.theenglishstudiocorvetto.com` as Primary (301 redirect from root). |
| 2025-08-16 | Map broke after domain switch | Google Maps API key restricted to old referrers | In Google Cloud → API key: added referrers `https://theenglishstudiocorvetto.com/*`, `https://www.theenglishstudiocorvetto.com/*`, and kept `…onrender.com/*`; saved & tested. |
| 2025-08-16 | Map still flaky in prod (sanity) | Potential mismatch of mapId/key or loader | Confirmed official async loader with `importLibrary`, passed pin via `{% static %}` data attribute, and (if needed) removed/updated `mapId`. |
| 2025-08-16 | Mixed content/asset 404s risk | Hardcoded `/static/...` in JS | Passed asset URLs from template via `data-*` and ran `collectstatic --noinput`; images load over HTTPS. |














